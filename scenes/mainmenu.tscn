[gd_scene load_steps=16 format=3 uid="uid://bi8vsxyc18w01"]

[ext_resource type="PackedScene" uid="uid://pr6aysnxthbn" path="res://assets/models/PlayerBunny.glb" id="1_r3g3c"]
[ext_resource type="PackedScene" uid="uid://cugwjlmkrupvg" path="res://assets/models/PlayerBubble.glb" id="2_3vvtq"]
[ext_resource type="Material" uid="uid://du1iiixuiunis" path="res://assets/models/materials/Bubble.tres" id="3_s5g8n"]
[ext_resource type="AudioStream" uid="uid://d0e5w04eaihhm" path="res://sound/Menu Music.wav" id="4_3vvtq"]

[sub_resource type="Environment" id="Environment_7yvfd"]
background_mode = 1
background_color = Color(7.821247e-08, 0, 0.12764716, 1)
ambient_light_color = Color(0.53895146, 0.772882, 0.90685284, 1)

[sub_resource type="Animation" id="Animation_r3g3c"]
resource_name = "BubbleLoop"
length = 15.0
loop_mode = 1
step = 1.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 15, 15.0002),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(6.2831855, 6.2831855, 6.2831855), Vector3(6.2831855, 6.2831855, 6.2831855)]
}

[sub_resource type="Animation" id="Animation_3vvtq"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_s5g8n"]
_data = {
&"BubbleLoop": SubResource("Animation_r3g3c"),
&"RESET": SubResource("Animation_3vvtq")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7yvfd"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3vvtq"]
animation = &"fall"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_s5g8n"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_7yvfd"]
graph_offset = Vector2(-446, 173.5)
nodes/Animation/node = SubResource("AnimationNodeAnimation_3vvtq")
nodes/Animation/position = Vector2(-80, 160)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_s5g8n")
nodes/TimeScale/position = Vector2(100, 200)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_7yvfd")
"nodes/Animation 2/position" = Vector2(-60, 420)
node_connections = [&"output", 0, &"TimeScale", &"TimeScale", 0, &"Animation"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dfy5j"]
animation = &"BubbleLoop"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_85riq"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_wf3n4"]
graph_offset = Vector2(-298, 64)
nodes/Animation/node = SubResource("AnimationNodeAnimation_dfy5j")
nodes/Animation/position = Vector2(-7.272727, 210)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_85riq")
nodes/TimeScale/position = Vector2(538.63635, 265.9091)
node_connections = [&"output", 0, &"Animation"]

[node name="Mainmenu" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7yvfd")

[node name="Node3D" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.04, 0)

[node name="PlayerBubble" parent="Node3D" instance=ExtResource("2_3vvtq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3012754, 0)

[node name="Playerbubble" parent="Node3D/PlayerBubble" index="0"]
material_override = ExtResource("3_s5g8n")

[node name="PlayerBunny" parent="Node3D/PlayerBubble" instance=ExtResource("1_r3g3c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.3012754, 0)

[node name="Skeleton3D" parent="Node3D/PlayerBubble/PlayerBunny/Rig" index="0"]
bones/0/position = Vector3(-2.1175824e-22, 0.7960062, 2.0401803e-15)
bones/0/rotation = Quaternion(0.9963566, -0.0034310862, -0.04906687, -0.06967212)
bones/1/position = Vector3(-2.9653557e-09, 5.9604645e-08, 2.1963569e-15)
bones/1/rotation = Quaternion(1, -5.7088234e-10, -2.5988896e-08, 2.0737423e-10)
bones/2/rotation = Quaternion(0.058684226, -0.14859189, 0.50994605, -0.8452407)
bones/3/rotation = Quaternion(0.18428715, -0.06660616, 0.011204964, 0.98054904)
bones/5/rotation = Quaternion(0.059856, 0.06366354, 0.51907206, 0.8502519)
bones/6/rotation = Quaternion(0.17211357, -0.053998396, 0.0107592, 0.9835372)
bones/8/rotation = Quaternion(-0.07509865, -0.0003976035, -0.003842199, 0.9971687)
bones/9/position = Vector3(-6.998177e-08, 0.15368368, -4.5088708e-08)
bones/9/rotation = Quaternion(0.17978466, -0.21266715, 0.039826382, 0.9596166)
bones/10/position = Vector3(2.5586017e-08, 0.2075474, 2.5617073e-09)
bones/10/rotation = Quaternion(-0.45825052, -5.0531373e-05, 8.52457e-05, 0.8888231)
bones/11/position = Vector3(-2.4242517e-08, 0.25123602, -3.4368462e-08)
bones/11/rotation = Quaternion(-0.0001062468, 0.93242776, -0.3613565, 4.7652356e-05)
bones/12/rotation = Quaternion(-0.43552795, 0.011574097, 0.17466575, 0.8829912)
bones/13/position = Vector3(-3.4806785e-08, 0.15368384, -1.3933543e-09)
bones/13/rotation = Quaternion(0.43515256, 0.19381014, -0.0965212, 0.87393564)
bones/14/position = Vector3(2.1086592e-08, 0.2075475, -5.01766e-08)
bones/14/rotation = Quaternion(-0.45825055, 0.00016561303, -2.59422e-05, 0.88882303)
bones/15/position = Vector3(1.690012e-08, 0.25123593, -4.6594806e-08)
bones/15/rotation = Quaternion(-1.849563e-05, 0.93242764, -0.36135644, 0.00027428215)

[node name="AnimationPlayer" parent="Node3D/PlayerBubble/PlayerBunny" index="1"]
speed_scale = 0.212

[node name="BubbleAnimationPlayer" type="AnimationPlayer" parent="Node3D/PlayerBubble"]
libraries = {
&"": SubResource("AnimationLibrary_s5g8n")
}

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.259, 5.362)
fov = 61.8

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Node3D/PlayerBubble/PlayerBunny")
tree_root = SubResource("AnimationNodeBlendTree_7yvfd")
anim_player = NodePath("../Node3D/PlayerBubble/PlayerBunny/AnimationPlayer")
parameters/TimeScale/scale = 0.4399999999999977

[node name="BallAnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Node3D/PlayerBubble")
tree_root = SubResource("AnimationNodeBlendTree_wf3n4")
anim_player = NodePath("../Node3D/PlayerBubble/BubbleAnimationPlayer")
parameters/TimeScale/scale = 1.0

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("4_3vvtq")
autoplay = true

[editable path="Node3D/PlayerBubble"]
[editable path="Node3D/PlayerBubble/PlayerBunny"]
